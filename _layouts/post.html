---
layout: default
---

<!-- JSON-LD für Schema.org - ERWEITERT -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "{{ page.schema_type | default: 'BlogPosting' }}",
  "headline": "{{ page.title }}",
  "author": {
    "@type": "Person",
    "name": "{{ page.author | default: site.author.name }}"
  },
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "dateModified": "{{ page.last_modified_at | default: page.date | date_to_xmlschema }}",
  "description": "{{ page.dublin_core.description | default: page.excerpt | strip_html | strip_newlines | truncate: 160 }}",
  {% if page.abstract %}
  "abstract": "{{ page.abstract | strip_html | strip_newlines }}",
  {% endif %}
  "url": "{{ page.url | absolute_url }}",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ page.url | absolute_url }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ site.title }}",
    "url": "{{ site.url }}"
  },
  "keywords": {{ page.keywords | jsonify }},
  "inLanguage": "{{ page.citation.language | default: 'de' }}",
  "license": "{{ page.dublin_core.rights | default: 'CC BY 4.0' }}"
}
</script>

<!-- Erweiterte Dublin Core Meta Tags -->
<meta name="DC.title" content="{{ page.title }}">
<meta name="DC.creator" content="{{ page.dublin_core.creator | default: page.author }}">
<meta name="DC.date" content="{{ page.date | date_to_xmlschema }}">
<meta name="DC.publisher" content="{{ page.dublin_core.publisher | default: site.title }}">
<meta name="DC.description" content="{{ page.dublin_core.description }}">
<meta name="DC.language" content="{{ page.citation.language | default: 'de' }}">
<meta name="DC.type" content="{{ page.dublin_core.type | default: 'Blogpost' }}">
<meta name="DC.format" content="text/html">
<meta name="DC.rights" content="{{ page.dublin_core.rights | default: 'CC BY 4.0' }}">
<meta name="DC.identifier" content="{{ page.url | absolute_url }}">
{% for subject in page.dublin_core.subject %}
<meta name="DC.subject" content="{{ subject }}">
{% endfor %}

<!-- Zusätzliche Citation-Metadaten für Zotero -->
<meta name="citation_title" content="{{ page.title }}">
<meta name="citation_author" content="{{ page.author | default: site.author.name }}">
<meta name="citation_publication_date" content="{{ page.date | date: '%Y/%m/%d' }}">
<meta name="citation_journal_title" content="{{ site.title }}">
<meta name="citation_publisher" content="{{ site.title }}">
<meta name="citation_abstract_html_url" content="{{ page.url | absolute_url }}">
<meta name="citation_fulltext_html_url" content="{{ page.url | absolute_url }}">
<meta name="citation_language" content="{{ page.citation.language | default: 'de' }}">
{% if page.abstract %}
<meta name="citation_abstract" content="{{ page.abstract | strip_html | strip_newlines }}">
{% endif %}

<!-- Optimierte COinS für Zotero Blog Post -->
<span class="Z3988" title="ctx_ver=Z39.88-2004&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Adc&amp;rfr_id=info%3Asid%2F{{ site.url | remove: 'https://' | remove: 'http://' }}%3Agenerator&amp;rft.type=blogPost&amp;rft.title={{ page.title | url_encode }}&amp;rft.creator={{ page.author | url_encode }}&amp;rft.publisher={{ site.title | url_encode }}&amp;rft.source={{ site.title | url_encode }}&amp;rft.date={{ page.date | date: '%Y-%m-%d' }}&amp;rft.identifier={{ page.url | absolute_url | url_encode }}&amp;rft.language={{ page.citation.language | default: 'de' }}&amp;rft.rights={{ page.dublin_core.rights | default: 'CC BY 4.0' | url_encode }}{% if page.abstract %}&amp;rft.description={{ page.abstract | strip_html | truncate: 200 | url_encode }}{% endif %}"></span>

<div class="row">
  <!-- TOC Sidebar -->
  <aside class="col-lg-3 d-none d-lg-block">
    <nav class="toc-sidebar sticky-top" style="top: 20px;">
      <h6 class="text-uppercase fw-bold mb-3"><i class="bi bi-list-ul"></i> Inhalt</h6>
      <nav id="toc" class="nav flex-column"></nav>
    </nav>
  </aside>

  <!-- Main Content -->
  <article class="blog-post col-lg-9">
    <header class="post-header">
      <h1 class="post-title">{{ page.title }}</h1>

      {% if page.abstract %}
      <div class="post-abstract">
          <strong>Abstract:</strong> {{ page.abstract }}
      </div>
      {% endif %}

      {% if page.keywords %}
      <div class="keywords">
          <strong>Schlagwörter:</strong>
          {% for keyword in page.keywords %}
          <span class="keyword">{{ keyword }}</span>{% unless forloop.last %}, {% endunless %}
          {% endfor %}
      </div>
      {% endif %}

      <div class="post-meta">
        <div class="author-info">
            <span class="meta-item">
                <strong>Autor:</strong> {{ page.author | default: site.author.name }}
            </span>
            <span class="meta-separator">•</span>
            <span class="meta-item">
                <strong>Veröffentlicht:</strong> {{ page.date | date: "%d.%m.%Y" }}
            </span>
            {% if page.dublin_core.rights %}
            <span class="meta-separator">•</span>
            <span class="meta-item">
                <strong>Lizenz:</strong> {{ page.dublin_core.rights }}
            </span>
            {% endif %}
        </div>
        <div class="post-actions">
            <a href="/excellence/blog/" class="btn btn-secondary btn-transition">
              <i class="bi bi-arrow-left"></i> Zurück zur Blogübersicht
            </a>
            <button onclick="window.print()" class="btn btn-secondary btn-transition">
              <i class="bi bi-file-pdf"></i> Als PDF drucken
            </button>
            <a href="https://raw.githubusercontent.com/DigitalHumanitiesCraft/excellence/refs/heads/main/blog/{{ page.name }}"
               target="_blank"
               class="btn btn-secondary btn-transition">
              <i class="bi bi-markdown"></i> Markdown
            </a>
        </div>
      </div>
    </header>

    <div class="post-content" id="post-content">
      {{ content }}
    </div>

    <!-- Zitiervorschlag -->
    <footer class="post-citation">
      <h3>Zitiervorschlag (APA)</h3>

      <div class="citation-format" id="citation-apa">
        {{ page.author | default: site.author.name | split: ' ' | last }}, {{ page.author | default: site.author.name | split: ' ' | first | slice: 0 }}. ({{ page.date | date: "%Y, %B %d" }}). {{ page.title }}. <em>{{ site.title }}</em>. {{ page.url | absolute_url }}
      </div>

      <div class="citation-tools">
        <button class="btn btn-secondary btn-transition" onclick="copyCitation(event)"><i class="bi bi-clipboard"></i> Zitiervorschlag kopieren</button>
      </div>
    </footer>
  </article>
</div>

<script>
function copyCitation(e) {
  const element = document.getElementById('citation-apa');
  const citation = element.innerText;
  const button = e.target;

  navigator.clipboard.writeText(citation).then(() => {
    const originalText = button.innerText;
    button.innerText = 'Kopiert! ✓';
    button.classList.add('copied');
    setTimeout(() => {
      button.innerText = originalText;
      button.classList.remove('copied');
    }, 2000);
  }).catch(err => {
    console.error('Failed to copy citation:', err);
    button.innerText = 'Fehler beim Kopieren';
    setTimeout(() => {
      button.innerText = 'Zitiervorschlag kopieren';
    }, 2000);
  });
}

// Generate TOC from headings
document.addEventListener('DOMContentLoaded', function() {
  const content = document.getElementById('post-content');
  const toc = document.getElementById('toc');
  const headings = content.querySelectorAll('h2, h3');

  // Add page title as first TOC item
  const titleLink = document.createElement('a');
  titleLink.className = 'nav-link fw-bold';
  titleLink.href = '#';
  titleLink.textContent = document.querySelector('.post-title').textContent;
  titleLink.addEventListener('click', function(e) {
    e.preventDefault();
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
  toc.appendChild(titleLink);

  headings.forEach(function(heading, index) {
    // Add id to heading if not present
    if (!heading.id) {
      heading.id = 'heading-' + index;
    }

    // Create TOC link
    const link = document.createElement('a');
    link.className = 'nav-link' + (heading.tagName === 'H3' ? ' ms-3' : '');
    link.href = '#' + heading.id;
    link.textContent = heading.textContent;

    toc.appendChild(link);
  });

  // Hide TOC if no headings
  if (headings.length === 0) {
    document.querySelector('.toc-sidebar').style.display = 'none';
  }
});
</script>